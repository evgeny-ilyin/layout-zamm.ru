(()=>{"use strict";window.productBlockCollapseHandler||(window.productBlockCollapseHandler=(e=!1)=>{if(!e)return void document.querySelectorAll(".block-collapsible").forEach((e=>productBlockCollapseHandler(e)));if(e.querySelector(".block-collapse"))return;let t=e.scrollHeight,l=e.getBoundingClientRect().height,s="is-opened";if(t>l){let l=document.createElement("div"),n=document.createElement("button");n.innerHTML="<span>Показать всё</span><span>Свернуть</span>",n.classList.add("block-collapse__btn","js-block-collpase","is-closed"),l.classList.add("block-collapse"),l.appendChild(n),e.appendChild(l);let c=e.querySelector(".block-collapse"),o=c.getBoundingClientRect().height,r=c.querySelector(".js-block-collpase");if(!r)return;r.addEventListener("click",(()=>{r.classList.toggle("is-closed"),e.style.maxHeight?(e.style.maxHeight=null,e.classList.remove(s)):(e.style.maxHeight=t+o+"px",e.classList.add(s))}))}}),addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelector(".product");e&&e.addEventListener("click",(e=>{if(e.target.classList.contains("js-btn-minus")){let t=e.target.nextElementSibling;if(t.getAttribute("min")==t.value)return;t.stepDown();let l=new Event("change",{bubbles:!0});t.dispatchEvent(l)}if(e.target.classList.contains("js-btn-plus")){let t=e.target.previousElementSibling;if(t.getAttribute("max")==t.value)return;t.stepUp();let l=new Event("change",{bubbles:!0});t.dispatchEvent(l)}}))}(),function(){const e="is-active";document.addEventListener("click",(t=>{const l=t.target.closest(".js-product-gallery");if(!l)return;const s=l.dataset.target;if(s){const t=document.body,l=document.querySelector(".header"),n=document.querySelector(`.${s}`),c=n.closest(".container").offsetTop,o=document.querySelectorAll(".container"),r=getScrollbarWidth();t.classList.add("noscroll"),l.classList.remove("is-hidden"),o.forEach((e=>{e.style.paddingRight=`${r}px`})),n.classList.add(e),n.style.top=`${c}px`}})),window.addEventListener("resize",(()=>{const t=document.querySelector(".js-product-gallery");if(!t)return;const l=t.dataset.target,s=document.querySelector(`.${l}`),n=document.querySelectorAll(".container");s&&(s.classList.remove(e),document.body.classList.remove("noscroll"),n.forEach((e=>{e.style.paddingRight=""})))}))}(),productBlockCollapseHandler()}))})();