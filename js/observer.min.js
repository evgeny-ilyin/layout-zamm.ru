(()=>{"use strict";window.blockObserver||(window.blockObserver=(e=!1)=>{const t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){let r=e.target,s=r.dataset.url,o={},n={};if(!s)return;r.dataset.params&&(n=JSON.parse(r.dataset.params)),Object.assign(o,n),(async()=>{try{fetchLoader(r,"start",{class:"_sm"});let e=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(o)});if(!e.ok)return;let t=await e.json();!0===t.status&&(r.innerHTML=t.content),t.svg&&addToSvgSprite(t.svg),a(r),fetchLoader(r,"stop")}catch(e){return void console.log(e)}})(),t.unobserve(e.target)}}))}),{});(e?e.querySelectorAll("[data-fetch='true']"):document.querySelectorAll("[data-fetch='true']")).forEach((e=>t.observe(e)));let a=e=>{try{productBlockCollapseHandler(),carouselsInit(e),catalogItemGalleriesInit(),catalogItemGalleryHandler(),tabsInit(),tabsHandler(e)}catch(e){}}}),addEventListener("DOMContentLoaded",(()=>{blockObserver()}))})();